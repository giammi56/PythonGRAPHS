config_version 201401231558	;// version number of config file format


parameter 2 	0		;//print ".lmf"-Headerinfo on screen (0 = no, 1 = yes)

parameter 9		0		;//channel offset for rising signal edges
parameter 10	0		;//use all CPUs (enable multicore support) (0 = no, 1 = yes)
parameter 11	1		;// 0 = fast mode (do not fill standard histograms)
;// 1 = normal mode
;//  x = faster: fill histograms only every xth event

parameter 15	1		;//Anti-Moire   (0 = no, 1 = yes)

parameter 49	0		;//write new listmode (.lmf) file including sorted TDC data (0 = no, 1 = yes)

parameter 50	0		;//demix channel (0 = no, 1 = yes)
parameter 51	0		;//channel to demix (channels are counted starting from "0")
parameter 52 	1000.		;//demix region (times after this time belong to other channel)
parameter 53	0		;//number of channel to write the demixed data to

parameter 54	0		;//number of channels in output LMF file (if 0 then number of channels in original LMF is used)
parameter 55	0		;//number of hits per channel in output LMF file (if 0 then number of hits in original LMF is used)
parameter 56	0	;//number of events to write to new root file (0 = infinit)
parameter 57	0		;//start new file when number of events is (parameter[56]) (0 = no, 1 = yes)
parameter 58	0		;//number of events to read from raw data file (0 = infinit)

parameter 60	0		;// max. number of projectiles written to ntuple/.root-file by the presorter
parameter 61	8		;// max. number of recoils written to ntuple/.root-file by the presorter
parameter 62	5		;// max. number of electrons written to ntuple/.root-file by the presorter

parameter 100	0		;//DLD/HEX (0=none, 1=DLD, 2=HEX)     P R O J E C T I L E - detector
parameter 101	0		;//common mode (0=start, 1=stop)
parameter 102	0		;//channel number for projectile u1 (the first channel has index zero)
parameter 103	1		;//channel number for projectile u2
parameter 104	3		;//channel number for projectile v1 
parameter 105	2		;//channel number for projectile v2
parameter 106	4		;//channel number for projectile w1 
parameter 107	5		;//channel number for projectile w2
parameter 108	6		;//channel number for projectile MCP 
parameter 109	1		;//use MCP-signal (0 = no, 1 = yes)
parameter 110	0.5		;//conversion factor for u-layer [mm/ns]
parameter 111	0.5		;//conversion factor for v-layer [mm/ns]
parameter 112	0.5		;//conversion factor for w-layer [mm/ns]
parameter 113	0.		;//offset for timesum u [ns]
parameter 114	0.		;//offset for timesum v [ns]
parameter 115	0.		;//offset for timesum w [ns]
parameter 116	0.		;//position offset w-layer [ns]
parameter 117	20.		;//width of timesum u [ns] (half width at bottom)
parameter 118	20.		;//width of timesum v [ns] (half width at bottom)
parameter 119	20.		;//width of timesum w [ns] (half width at bottom)
parameter 120	25.		;//deadtime anode [ns]
parameter 121	25.		;//deadtime MCP [ns]
parameter 122	50.		;//MCP-radius [mm] (choose always bigger than real radius)
parameter 123	200.		;//runtime [ns] (max. runtime on layer u)
parameter 124	0.		;//runtime [ns] (max. runtime on layer v) if 0 then the u-value us used
parameter 125	0.		;//runtime [ns] (max. runtime on layer w) if 0 then the u-value us used

parameter 126	0.		;//shift detector to center MCP x-direction 
parameter 127	0.		;//shift detector to center MCP y-direction
parameter 128	0		;//auto calibration (0 = no, 1 = yes)
parameter 129	0		;//use resort routine (reconstruction) (0 = no, 1 = yes) 
parameter 130	0		;//use sum correction (0 = no, 1 = yes)
parameter 131	0		;//use pos correction (0 = no, 1 = yes)
						 // the following 6 parameters should only be used if you know what you are doing:
parameter 132   0		;//use sum peak tracker for layer u (0 = no, 1 = yes)
parameter 133   0		;//use sum peak tracker for layer v (0 = no, 1 = yes)
parameter 134   0		;//use sum peak tracker for layer w (0 = no, 1 = yes)
parameter 135   0		;//layer u: sum offset for peak tracker at the beginning of the file
parameter 136   0		;//layer v: sum offset for peak tracker at the beginning of the file
parameter 137   0		;//layer w: sum offset for peak tracker at the beginning of the file


parameter 200	2		;//DLD/HEX (0=none; 1=DLD; 2=HEX)     R E C O I L - detector
parameter 201	0		;//common mode (0=start, 1=stop)
parameter 202	7		;//channel number for recoil u1 (the first channel has index zero)
parameter 203	14		;//channel number for recoil u2
parameter 204	10		;//channel number for recoil v1 
parameter 205	3		;//channel number for recoil v2
parameter 206	12		;//channel number for recoil w1 
parameter 207	5		;//channel number for recoil w2
parameter 208	1		;//channel number for recoil MCP 
parameter 209	1		;//use MCP-signal (0 = no, 1 = yes)
parameter 210	0.373		;//conversion factor for u-layer [mm/ns]
parameter 211	0.560500		;//conversion factor for v-layer [mm/ns]
parameter 212	0.380500	;//conversion factor for w-layer [mm/ns]
parameter 213	-174.0		;//offset for timesum u [ns]
parameter 214	-120.0		;//offset for timesum v [ns]
parameter 215	-172.0		;//offset for timesum w [ns]
parameter 216	2.725		;//position offset w-layer [ns]
parameter 217	0.7		;//width of timesum u [ns] (half width at bottom)
parameter 218	0.7		;//width of timesum v [ns] (half width at bottom)
parameter 219	0.7		;//width of timesum w [ns] (half width at bottom)
parameter 220	20.		;//deadtime anode [ns]
parameter 221	10.		;//deadtime MCP [ns]
parameter 222	50.		;//MCP-radius [mm] (choose always bigger than real radius)
parameter 223	200.		;//runtime [ns] (max. runtime on layer u)
parameter 224	130.		;//runtime [ns] (max. runtime on layer v) if 0 then the u-value us used
parameter 225	200.		;//runtime [ns] (max. runtime on layer w) if 0 then the u-value us used

parameter 226	2.0		;//shift detector to center MCP x-direction 
parameter 227	0.0		;//shift detector to center MCP y-direction
parameter 228	0		;//auto calibration (0 = no, 1 = yes)
parameter 229	1		;//use resort routine (reconstruction) (0 = no, 1 = yes) 
parameter 230	1		;//use sum correction (0 = no, 1 = yes)
parameter 231	1		;//use pos correction (0 = no, 1 = yes)
						 // the following 6 parameters should only be used if you know what you are doing:
parameter 232   0		;//use sum peak tracker for layer u (0 = no, 1 = yes)
parameter 233   0		;//use sum peak tracker for layer v (0 = no, 1 = yes)
parameter 234   0		;//use sum peak tracker for layer w (0 = no, 1 = yes)
parameter 235   0		;//layer u: sum offset for peak tracker at the beginning of the file
parameter 236   0		;//layer v: sum offset for peak tracker at the beginning of the file
parameter 237   0		;//layer w: sum offset for peak tracker at the beginning of the file


parameter 300	2		;//DLD/HEX (0=none; 1=DLD; 2=HEX)     E L E C T R O N - detector
parameter 301	0		;//common mode (0=start, 1=stop)
parameter 302	9		;//channel number for electron u1 (the first channel has index zero)
parameter 303	2		;//channel number for electron u2
parameter 304	11		;//channel number for electron v1 
parameter 305	4		;//channel number for electron v2
parameter 306	13		;//channel number for electron w1 
parameter 307	6		;//channel number for electron w2
parameter 308	0		;//channel number for electron MCP 
parameter 309	1		;//use MCP-signal (0 = no, 1 = yes)
parameter 310	0.33		;//conversion factor for u-layer [mm/ns]
parameter 311	0.314250		;//conversion factor for v-layer [mm/ns]
parameter 312	0.318500		;//conversion factor for w-layer [mm/ns]
parameter 313	-141.0		;//offset for timesum u [ns]
parameter 314	-148.0		;//offset for timesum v [ns]
parameter 315	-147.0		;//offset for timesum w [ns]
parameter 316	2.775		;//position offset w-layer [ns]
parameter 317	0.7		;//width of timesum u [ns] (half width at bottom)
parameter 318	0.7		;//width of timesum v [ns] (half width at bottom)
parameter 319	0.7		;//width of timesum w [ns] (half width at bottom)
parameter 320	20.		;//deadtime anode [ns]
parameter 321	10.		;//deadtime MCP [ns]
parameter 322	50.		;//MCP-radius [mm] (choose always bigger than real radius)
parameter 323	124.		;//runtime [ns] (max. runtime on layer u)
parameter 324	130.		;//runtime [ns] (max. runtime on layer v) if 0 then the u-value us used
parameter 325	132.		;//runtime [ns] (max. runtime on layer w) if 0 then the u-value us used
parameter 326	-2.		;//shift detector to center MCP x-direction 
parameter 327	-2.		;//shift detector to center MCP y-direction
parameter 328	0		;//auto calibration (0 = no, 1 = yes)
parameter 329	1		;//use resort routine (reconstruction) (0 = no, 1 = yes) 
parameter 330	1		;//use sum correction (0 = no, 1 = yes)
parameter 331	1		;//use pos correction (0 = no, 1 = yes)
						 // the following 6 parameters should only be used if you know what you are doing:
parameter 332   0		;//use sum peak tracker for layer u (0 = no, 1 = yes)
parameter 333   0		;//use sum peak tracker for layer v (0 = no, 1 = yes)
parameter 334   0		;//use sum peak tracker for layer w (0 = no, 1 = yes)
parameter 335   0		;//layer u: sum offset for peak tracker at the beginning of the file
parameter 336   0		;//layer v: sum offset for peak tracker at the beginning of the file
parameter 337   0		;//layer w: sum offset for peak tracker at the beginning of the file





						 ////////////////////////////////////////////////////////////////////////////////////////////////////


feed_parameters_into_sorters; // this command must be placed before the correction tables

execute "correction_table_rec.txt";
execute "correction_table_elec.txt";


use_ColAHelL;

//invoke_ipa 500000 11;
//ipa_ion_tof_tool 1500 4000. 5000.; 
//ipa_fish_tool 500 35. 42.;
//ipa_wiggle_tool 500 0. 50.;
///ipa_LUT_tool_eV en[eV] binsmom binsphi binsctheta electrons
///ipa_LUT_tool_au mom[au] binsmom binsphi binsctheta electrons
//ipa_LUT_tool_eV 14.7 100 36 24;
//ipa_LUT_tool_au 0.4 100 36 30;
 

////////////////// F I L E H A N D L I N G \\\\\\\\\\\\\\\\\\\\\\\
////////////////// BEFORE STARTING THE FILE \\\\\\\\\\\\\\\\\\\\\\

// 1. CH9-11 ColAHelL.cfg HAS TO BE SELCTED SINGULARLY BECUASE THE PRESORTED HAS CH9 AND CH11 TOGETHER!
// 2. SET THE PROPRER PHOTO ELECTRON ENERGY min max in USER ANALYSIS and ELECTRONS plus SET THE RIGHT INAVALIDATES!!
// 3. SET THE PROPRER LIMITS FOT THE NEUTRAL MOMENTUM (it has to be a hollow sphere)
// 4. SET THE PROPER CONSTRAINS FOR THE NETWON PLOT
// 5. SET THE PROPER CONSTRAINS FOR THE ANGULAR DISTRIBUTION OF THE FRAGMENTS (CH9 and CH11 have different values)
// 6. IN CH_Particle.cpp YOU CAN SET THE TARGET ENERGY AND CALCULATE THE PZ
// 7. #define MFPAD 1, #define TEST 0 to show MFPAD (CH11 and 9) ad TEST (ALL CHANNELS)

////////////////// BEFORE STARTING THE FILE \\\\\\\\\\\\\\\\\\\\\\

//// 550 eV  - cahnge input here to produce all the R/S - CL/CR combined
//// main channel ALL
//set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\S-C3H3F3O_550eV_CL_newEfield_ALLCH_MFPAD_30_t0";
//readROOTfile "E:\Soleil_2018_09_SEX\Analysis\S-C3H3F3O_11800-1400ns_550eV_CL_presort_new_MS_TJ.root";  //CH14
//readROOTfile "E:\Soleil_2018_09_SEX\Analysis\S-C3H3F3O_10800-2350ns_550eV_CL_presort_new_MS_TJ.root";  //CH11
// readROOTfile "E:\Soleil_2018_09_SEX\Analysis\S-C3H3F3O_9600-3700ns_550eV_CL_presort_new_MS_TJ.root";  //CH9
// //readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_11800-600ns_550eV_CR_presort.root";  //CH12
////readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_10356-2047ns_550eV_CR_presort.root";  //CH10
//exit;

//// main channel CH14
//set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_550eV_CL_11800-1400ns_newEfield_multiCH14_MFPAD_30_t0";
//readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_11800-1400ns_550eV_CL_presort_new_MS_TJ.root";
//exit;

// main channel CH11
set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_550eV_CR_10800-2350ns_newEfield_multiCH11_MFPAD_30_t0";
readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_10800-2350ns_550eV_CR_presort_new_MS_TJ.root";
exit;

// main channel CH9
set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\S-C3H3F3O_550eV_CR_9600-3700ns_newEfield_multiCH9_MFPAD_30_t0";
readROOTfile "E:\Soleil_2018_09_SEX\Analysis\S-C3H3F3O_9600-3700ns_550eV_CR_presort_new_MS_TJ.root";
exit;

// lower intesity channel CH12
set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_550eV_CL_11800-600ns_neworient";
readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_11800-600ns_550eV_CL_presort.root";
exit;

//CH 9
set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\S-C3H3F3O_10162-3800ns_550eV_CL_presort";
readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_11800-1400ns_550eV_CL_presort.root";
exit;

//CH10
set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_10356-2047ns_550eV_CR_presort";
readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_10356-2047ns_550eV_CR_presort.root";
exit;

//CH11
//set_root_output_file_name "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_11427-2995ns_550eV_CL_analysis_Arcorr";
//readROOTfile "E:\Soleil_2018_09_SEX\Analysis\R-C3H3F3O_11427-2995ns_550eV_CL_presort.root";
//exit;